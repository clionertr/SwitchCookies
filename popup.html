<!DOCTYPE html>
<html>
<head>
  <title>SwitchCookies</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="popup.css">
  <style>
    /* 滚动条样式 - 日间模式 */
    ::-webkit-scrollbar {
      width: 8px !important;
      height: 8px !important;
    }

    ::-webkit-scrollbar-track {
      background: #f1f1f1 !important;
      border-radius: 4px !important;
    }

    ::-webkit-scrollbar-thumb {
      background: #ccc !important;
      border-radius: 4px !important;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: #aaa !important;
    }

    /* 夜间模式滚动条样式 - 完全覆盖 */
    html.night-mode ::-webkit-scrollbar,
    body.night-mode ::-webkit-scrollbar,
    body.night-mode *::-webkit-scrollbar {
      width: 8px !important;
      height: 8px !important;
    }

    html.night-mode ::-webkit-scrollbar-track,
    body.night-mode ::-webkit-scrollbar-track,
    body.night-mode *::-webkit-scrollbar-track {
      background: #2d2d2d !important;
      border-radius: 4px !important;
      border-left: none !important;
      border: none !important;
      box-shadow: none !important;
    }

    html.night-mode ::-webkit-scrollbar-thumb,
    body.night-mode ::-webkit-scrollbar-thumb,
    body.night-mode *::-webkit-scrollbar-thumb {
      background: #111 !important;
      border-radius: 4px !important;
      border: none !important;
      box-shadow: none !important;
    }

    html.night-mode ::-webkit-scrollbar-thumb:hover,
    body.night-mode ::-webkit-scrollbar-thumb:hover,
    body.night-mode *::-webkit-scrollbar-thumb:hover {
      background: #222 !important;
    }

    html.night-mode ::-webkit-scrollbar-corner,
    body.night-mode ::-webkit-scrollbar-corner,
    body.night-mode *::-webkit-scrollbar-corner {
      background: #2d2d2d !important;
    }
  </style>
</head>
<body>
  <div class="container">
<button id="quick-night-mode-toggle" title="切换夜间模式">🌙</button>
    <h1>SwitchCookies</h1>

    <div class="section">
      <h2>Current Site</h2>
      <div id="current-site">Loading...</div>
    </div>

    <div class="section">
      <h2>Cookie Profiles</h2>
      <div class="profile-controls">
        <input type="text" id="profile-name" placeholder="Profile name">
        <button id="save-profile">Save Current Cookies</button>
      </div>

      <div id="profiles-list" class="profiles-list">
        <div class="no-profiles">No saved profiles</div>
      </div>
    </div>

    <div class="section">
      <h2>Cookie Management</h2>
      <div class="checkbox-item include-subdomains">
        <input type="checkbox" id="include-subdomains" checked>
        <label for="include-subdomains">Include all subdomains (e.g., www.example.com and login.example.com)</label>
      </div>
      <div class="button-group">
        <button id="export-cookies">Export Cookies</button>
        <button id="import-cookies">Import Cookies</button>
        <button id="clear-cookies" class="danger-btn">Clear All Cookies</button>
        <input type="file" id="import-file" style="display: none;">
      </div>
      <div class="export-all-container">
        <button id="export-all-cookies" class="warning-btn">导出全部Cookies</button>
        <div class="security-warning">
          <span class="warning-icon">⚠️</span>
          <span class="warning-text">警告：导出全部Cookies存在安全风险，可能导致账户泄露，请谨慎操作。</span>
        </div>
      </div>
    </div>

    <div class="section">
      <h2>Current Cookies</h2>
      <div class="cookie-search-container">
        <div class="search-input-wrapper">
          <input type="text" id="cookie-search" placeholder="Search cookies..." autocomplete="off">
          <button id="clear-search" class="clear-search-btn" title="Clear search">×</button>
        </div>
        <div id="search-autocomplete" class="search-autocomplete"></div>
      </div>
      <div class="cookies-container">
        <div id="cookies-list" class="cookies-list">Loading cookies...</div>
      </div>
    </div>

    <div class="section">
      <h2>IP Information</h2>
      <div id="ip-info">Loading IP information...</div>
      <h2>Risk Assessment</h2>
      <div id="risk-assessment">Loading risk assessment...</div>
    </div>
<div class="section">
    <h2>夜间模式</h2>
    <div class="checkbox-item">
      <input type="checkbox" id="night-mode-toggle">
      <label for="night-mode-toggle">启用夜间模式</label>
    </div>
    <div class="form-group">
      <label for="brightness">亮度</label>
      <input type="range" id="brightness" min="50" max="100" value="80">
    </div>
    <div class="form-group">
      <label for="contrast">对比度</label>
      <input type="range" id="contrast" min="80" max="120" value="100">
    </div>
  </div>
  </div>

  <!-- Cookie Editor Modal -->
  <div id="cookie-editor-modal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2>Edit Cookie</h2>
      <div class="cookie-form">
        <div class="form-group">
          <label for="cookie-name">Name</label>
          <input type="text" id="cookie-name" class="form-input">
        </div>
        <div class="form-group">
          <label for="cookie-value">Value</label>
          <input type="text" id="cookie-value" class="form-input">
        </div>
        <div class="form-group">
          <label for="cookie-domain">Domain</label>
          <input type="text" id="cookie-domain" class="form-input">
        </div>
        <div class="form-group">
          <label for="cookie-path">Path</label>
          <input type="text" id="cookie-path" class="form-input">
        </div>
        <div class="form-group">
          <label for="cookie-expiration">Expiration</label>
          <input type="datetime-local" id="cookie-expiration" class="form-input">
        </div>
        <div class="form-group">
          <label for="cookie-sameSite">Same Site</label>
          <select id="cookie-sameSite" class="form-input">
            <option value="no_restriction">No Restriction</option>
            <option value="lax">Lax</option>
            <option value="strict">Strict</option>
          </select>
        </div>
        <div class="form-group checkbox-group">
          <div class="checkbox-item">
            <input type="checkbox" id="cookie-hostOnly">
            <label for="cookie-hostOnly">Host Only</label>
          </div>
          <div class="checkbox-item">
            <input type="checkbox" id="cookie-session">
            <label for="cookie-session">Session</label>
          </div>
          <div class="checkbox-item">
            <input type="checkbox" id="cookie-secure">
            <label for="cookie-secure">Secure</label>
          </div>
          <div class="checkbox-item">
            <input type="checkbox" id="cookie-httpOnly">
            <label for="cookie-httpOnly">Http Only</label>
          </div>
        </div>
        <div class="form-actions">
          <button id="save-cookie-btn">Save</button>
          <button id="cancel-cookie-btn">Cancel</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Clear Cookies Confirmation Modal -->
  <div id="clear-cookies-modal" class="modal">
    <div class="modal-content">
      <span class="close clear-cookies-close">&times;</span>
      <h2>Clear All Cookies</h2>
      <p>Are you sure you want to clear all cookies for <span id="clear-domain" class="highlight-text"></span>?</p>
      <div class="cookies-to-clear">
        <h3>The following cookies will be removed:</h3>
        <div id="cookies-to-clear-list" class="cookies-list-confirm"></div>
      </div>
      <div class="checkbox-item clear-subdomains">
        <input type="checkbox" id="clear-subdomains" checked>
        <label for="clear-subdomains">Include all subdomains</label>
      </div>
      <div class="form-actions">
        <button id="confirm-clear-btn" class="danger-btn">Clear All</button>
        <button id="cancel-clear-btn">Cancel</button>
      </div>
    </div>
  </div>

  <script src="popup.js"></script>
</body>
</html>
